<h1 id="qcd">qcd</h1>
<h2 id="overview">Overview</h2>
<p>qcd - quick change directory</p>
<p>qcd allows you to create an alias for a directory</p>
<ul>
<li><p>qcda <em>alias</em> This will create an alias for the current directory</p></li>
<li><p>qcd <em>alias</em> cd to the directory specified by the alias</p></li>
<li><p>qcdl list the aliases and associated directory</p>
<p>QCD_DATA_FILE=<sub>/.qcd.dat QCD_HIST_FILE=</sub>/.qcd.hist DELIM=' '</p>
<p>qcd-check-file() { if [ ! -f $QCD_DATA_FILE ] ; then touch <span class="math"><em>Q</em><em>C</em><em>D</em><sub><em>D</em></sub><em>A</em><em>T</em><em>A</em><sub><em>F</em></sub><em>I</em><em>L</em><em>E</em><em>e</em><em>c</em><em>h</em><em>o</em></span>QCD_DATA_FILE created fi if [ ! -f $QCD_HIST_FILE ] ; then touch <span class="math"><em>Q</em><em>C</em><em>D</em><sub><em>H</em></sub><em>I</em><em>S</em><em>T</em><sub><em>F</em></sub><em>I</em><em>L</em><em>E</em><em>e</em><em>c</em><em>h</em><em>o</em></span>QCD_HIST_FILE created fi }</p>
<p>qcd() { if [ $# != 1 ] ; then echo usage: qcd directoryAlias return 1; fi ALIAS=<span class="math">$1     TARGET=`qcd-get-alias $</span>ALIAS` if [ ${TARGET}&quot;&quot; != &quot;&quot; ] ; then cd <span class="math"><em>T</em><em>A</em><em>R</em><em>G</em><em>E</em><em>T</em><em>e</em><em>c</em><em>h</em><em>o</em></span>{TARGET} &gt;&gt; <span class="math"><em>Q</em><em>C</em><em>D</em><sub><em>H</em></sub><em>I</em><em>S</em><em>T</em><sub><em>F</em></sub><em>I</em><em>L</em><em>E</em><em>e</em><em>l</em><em>s</em><em>e</em><em>e</em><em>c</em><em>h</em><em>o</em><em>u</em><em>n</em><em>a</em><em>b</em><em>l</em><em>e</em><em>t</em><em>o</em><em>l</em><em>o</em><em>c</em><em>a</em><em>t</em><em>e</em><em>a</em><em>l</em><em>i</em><em>a</em><em>s</em></span>{ALIAS} in <span class="math"><em>Q</em><em>C</em><em>D</em><sub><em>D</em></sub><em>A</em><em>T</em><em>A</em><sub><em>F</em></sub><em>I</em><em>L</em><em>E</em><em>e</em><em>c</em><em>h</em><em>o</em></span>{QCD_DATA_FILE} | sort return 1; fi }</p>
<h1></h1>
<h1>returns the number of times this alias is already defined</h1>
<h1></h1>
<p>qcd-get-alias-count() { if [ $# != 1 ] ; then echo usage: qcd-get-alias-count directoryAlias return 1; fi local ALIAS_COUNT=<code>grep &quot;^${ALIAS}${DELIM}&quot; ${QCD_DATA_FILE} | cut -f2 -d&quot;${DELIM}&quot; | wc -l</code> #echo ALIAS_COUNT: <span class="math">$ALIAS_COUNT &gt;&amp;2     echo $</span>ALIAS_COUNT }</p>
<p>qcd-get-alias() { if [ $# != 1 ] ; then echo usage: qcd-get-alias directoryAlias return 1; fi local ALIAS=<span class="math">$1     local ALIAS_COUNT=`qcd-get-alias-count $</span>ALIAS<code>if [ $ALIAS_COUNT != 1 ] ; then         echo this alias has been defined $ALIAS_COUNT times, returning last entry &gt;&amp;2     fi     local TARGET=</code>grep &quot;^<span class="math"><em>A</em><em>L</em><em>I</em><em>A</em><em>S</em></span>{DELIM}&quot; <span class="math">${QCD_DATA_FILE} | cut -f2 -d&quot;$</span>{DELIM}&quot; | tail -1` if [ ${TARGET}&quot;&quot; != &quot;&quot; ] ; then echo <span class="math"><em>T</em><em>A</em><em>R</em><em>G</em><em>E</em><em>T</em><em>e</em><em>l</em><em>s</em><em>e</em><em>e</em><em>c</em><em>h</em><em>o</em><em>u</em><em>n</em><em>a</em><em>b</em><em>l</em><em>e</em><em>t</em><em>o</em><em>l</em><em>o</em><em>c</em><em>a</em><em>t</em><em>e</em><em>a</em><em>l</em><em>i</em><em>a</em><em>s</em></span>{ALIAS} in ${QCD_DATA_FILE} &gt;&amp;2 return 1; fi</p>
<p>}</p>
<p>qcd-show-all-aliases() { if [ $# != 1 ] ; then echo usage: qcd-get-all-aliases directoryAlias return 1; fi local ALIAS=<span class="math">$1     #echo numbering lines     # show the line numbers and the directory name, strip out the alias     echo directories for alias \'$</span>{ALIAS}' grep --line-number &quot;^<span class="math"><em>A</em><em>L</em><em>I</em><em>A</em><em>S</em></span>{DELIM}&quot; ${QCD_DATA_FILE} | sed 's/:[^ ]*//'</p>
<p>}</p>
<p>qcd-dupes() { local DUP_KEYS=<code>cat $QCD_DATA_FILE | cut -f 1 -d &quot;$DELIM&quot;  | sort | uniq -d</code> echo duplicate keys are $DUP_KEYS }</p>
<p>qcd-show-dupes() { local DUP_KEYS=<code>qcd-dupes</code> for KEY in <span class="math">${DUP_KEYS}     do         local SEARCH_KEY=&quot;^$</span>{KEY}<span class="math">${DELIM}&quot;         #echo SEARCH_KEY is $</span>SEARCH_KEY grep -n &quot;<span class="math">${SEARCH_KEY}&quot; $</span>{QCD_DATA_FILE} done }</p>
<p>qcd-add-alias() { if [ $# != 2 ] ; then echo usage: qcda-add-alias aliasName directory return 1; fi local PREVIOUS_ALIAS_COUNT=<code>qcd-get-alias-count ${ALIAS}</code> #echo PREVIOUS_ALIAS_COUNT: <span class="math"><em>P</em><em>R</em><em>E</em><em>V</em><em>I</em><em>O</em><em>U</em><em>S</em><sub><em>A</em></sub><em>L</em><em>I</em><em>A</em><em>S</em><sub><em>C</em></sub><em>O</em><em>U</em><em>N</em><em>T</em><em>i</em><em>f</em>[</span>{PREVIOUS_ALIAS_COUNT} -gt 0 ] ; then echo alias <span class="math"><em>A</em><em>L</em><em>I</em><em>A</em><em>S</em><em>h</em><em>a</em><em>s</em><em>b</em><em>e</em><em>e</em><em>n</em><em>p</em><em>r</em><em>e</em><em>v</em><em>i</em><em>o</em><em>u</em><em>s</em><em>l</em><em>y</em><em>d</em><em>e</em><em>f</em><em>i</em><em>n</em><em>e</em><em>d</em><em>e</em><em>c</em><em>h</em><em>o</em><em>a</em><em>f</em><em>t</em><em>e</em><em>r</em><em>t</em><em>h</em><em>i</em><em>s</em><em>i</em><em>s</em><em>a</em><em>d</em><em>d</em><em>e</em><em>d</em><em>t</em><em>h</em><em>e</em><em>f</em><em>o</em><em>l</em><em>l</em><em>o</em><em>w</em><em>i</em><em>n</em><em>g</em><em>d</em><em>i</em><em>r</em><em>e</em><em>c</em><em>t</em><em>o</em><em>r</em><em>y</em><em>a</em><em>l</em><em>i</em><em>a</em><em>s</em><em>e</em><em>s</em><em>w</em><em>i</em><em>l</em><em>l</em><em>b</em><em>e</em><em>h</em><em>i</em><em>d</em><em>d</em><em>e</em><em>n</em><em>e</em><em>c</em><em>h</em><em>o</em><em>e</em><em>d</em><em>i</em><em>t</em></span>QCD_DATA_FILE if you wish to disambiguate qcd-show-all-aliases <span class="math"><em>A</em><em>L</em><em>I</em><em>A</em><em>S</em><em>f</em><em>i</em><em>i</em><em>f</em>[! − <em>d</em></span>{TARGET} ] ; then echo target <span class="math"><em>T</em><em>A</em><em>R</em><em>G</em><em>E</em><em>T</em><em>i</em><em>s</em><em>n</em><em>o</em><em>t</em><em>a</em><em>d</em><em>i</em><em>r</em><em>e</em><em>c</em><em>t</em><em>o</em><em>r</em><em>y</em><em>r</em><em>e</em><em>t</em><em>u</em><em>r</em><em>n</em>2<em>f</em><em>i</em><em>i</em><em>f</em>[! − <em>x</em></span>{TARGET} ] ; then echo target directory <span class="math">${TARGET} permissions do not allow you to search the directory contents     return 3     fi     ###     # resolve relative path     ###      local CURRENT_DIR=`pwd`                  # save off the current directory     cd $</span>TARGET # change to the target directory which might be a relative path local CD_RETVAL=<span class="math">$?                       # check if the change directory worked     local TARGET_DIR=`pwd`                   # store of the absolute name of the target directory     if [ $</span>TARGET_DIR != <span class="math"><em>T</em><em>A</em><em>R</em><em>G</em><em>E</em><em>T</em> − <em>a</em></span>TARGET != '.' ] ; then # the path was relative and not the current directory echo TARGET_DIR is <span class="math"><em>T</em><em>A</em><em>R</em><em>G</em><em>E</em><em>T</em><sub><em>D</em></sub><em>I</em><em>R</em><em>f</em><em>o</em><em>r</em><em>a</em><em>l</em><em>i</em><em>a</em><em>s</em></span>{ALIAS} # show the resolved alias fi #echo CD_RETVAL <span class="math"><em>C</em><em>D</em><sub><em>R</em></sub><em>E</em><em>T</em><em>V</em><em>A</em><em>L</em><em>c</em><em>d</em></span>CURRENT_DIR # return to the starting point echo <span class="math">${ALIAS}&quot;$</span>{DELIM}&quot;<span class="math"><em>T</em><em>A</em><em>R</em><em>G</em><em>E</em><em>T</em><sub><em>D</em></sub><em>I</em><em>R</em> &gt;  &gt; </span>{QCD_DATA_FILE} }</p>
<p>qcda() { #echo called with <span class="math">$# args     if [ $</span># -lt 1 -o $# -gt 2 ] ; then echo if called with one argument it must be the alias you wish to create echo for the current directory. echo echo if called with two arguments echo the first argument must be the alias echo and the second argument must be a directory to which you can navigate return 1; fi local ALIAS=<span class="math">1<em>l</em><em>o</em><em>c</em><em>a</em><em>l</em><em>T</em><em>A</em><em>R</em><em>G</em><em>E</em><em>T</em><em>i</em><em>f</em>[</span># = 2 ] ; then TARGET=<span class="math">$2     else          TARGET=`pwd`      fi     qcd-add-alias $</span>ALIAS $TARGET }</p>
<p>qcdl() { echo your data file <span class="math"><em>Q</em><em>C</em><em>D</em><sub><em>D</em></sub><em>A</em><em>T</em><em>A</em><sub><em>F</em></sub><em>I</em><em>L</em><em>E</em><em>h</em><em>a</em><em>s</em><em>t</em><em>h</em><em>e</em><em>f</em><em>o</em><em>l</em><em>l</em><em>o</em><em>w</em><em>i</em><em>n</em><em>g</em><em>e</em><em>n</em><em>t</em><em>r</em><em>i</em><em>e</em><em>s</em><em>c</em><em>a</em><em>t</em></span>QCD_DATA_FILE }</p>
<p>qcds() { # Quick Change Directory Save cd <span class="math">$1 &amp;&amp; (echo $</span>{PWD} &gt;&gt; ${QCD_HIST_FILE}) }</p>
<p>qcdh() { # need a session level list and a global list awk '!($0 in x){x[$0]++; print <span class="math">$0}' $</span>{QCD_HIST_FILE} }</p>
<p>qcd-check-file</p>
<p>alias pcd=&quot;pushd .; qcd&quot;</p></li>
</ul>
